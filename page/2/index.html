<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Record and Share">
<meta property="og:type" content="website">
<meta property="og:title" content="Chunkai&#39;s Blog">
<meta property="og:url" content="https://chunkai-meng.github.io.git/page/2/index.html">
<meta property="og:site_name" content="Chunkai&#39;s Blog">
<meta property="og:description" content="Record and Share">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chunkai&#39;s Blog">
<meta name="twitter:description" content="Record and Share">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://chunkai-meng.github.io.git/page/2/"/>





  <title>Chunkai's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chunkai's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-projects">
          <a href="/categories/Projects/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            Projects
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/12/06/First-Django-App-on-Mac-Docker-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/First-Django-App-on-Mac-Docker-3/" itemprop="url">First Django App on Mac Docker - 3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-06T12:45:37+13:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index">
                    <span itemprop="name">Backend</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/06/First-Django-App-on-Mac-Docker-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/06/First-Django-App-on-Mac-Docker-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Mac-Docker-创建第一个Django-应用，Part-3"><a href="#Mac-Docker-创建第一个Django-应用，Part-3" class="headerlink" title="Mac Docker 创建第一个Django 应用，Part 3"></a>Mac Docker 创建第一个Django 应用，Part 3</h1><blockquote>
<p>参考原文：<a href="https://docs.djangoproject.com/en/1.11/intro/tutorial03/" target="_blank" rel="external">Writing your first Django app, part 3</a><br>本文Python搭建在 Django Compose + Djang  执行Python需进入web server容器中，请参看[第一步：在Mac构建Django 容器]<br>翻译整理：CK</p>
</blockquote>
<h2 id="Part3：开发前端"><a href="#Part3：开发前端" class="headerlink" title="Part3：开发前端"></a>Part3：开发前端</h2><h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h3><p>一个View是一个为特定功能服务的一种网页，例如在本例中有4个View：</p>
<ul>
<li>Question “index” page – 展示最新的问题.</li>
<li>Question “detail” page – 展示一个问题，提供答题表，无答案.</li>
<li>Question “results” page – 展示一个特定问题的答案.</li>
<li>Vote action – 处理针对一个特定问题的投票.</li>
</ul>
<p>在Djanog中网页和其他内容通过View来展示，每个View相当于一个简单的Python函数（或方法，在基于类的View中），在URLconfs中做了URL到View的映射。</p>
<h3 id="2-编写更多的View"><a href="#2-编写更多的View" class="headerlink" title="2. 编写更多的View"></a>2. 编写更多的View</h3><p>添加到polls/views.py<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def detail(request, question_id):</span><br><span class="line">    return HttpResponse(&quot;You&apos;re looking at question %s.&quot; % question_id)</span><br><span class="line"></span><br><span class="line">def results(request, question_id):</span><br><span class="line">    response = &quot;You&apos;re looking at the results of question %s.&quot;</span><br><span class="line">    return HttpResponse(response % question_id)</span><br><span class="line"></span><br><span class="line">def vote(request, question_id):</span><br><span class="line">    return HttpResponse(&quot;You&apos;re voting on question %s.&quot; % question_id)</span><br></pre></td></tr></table></figure></p>
<p>添加到polls.urls</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from django.conf.urls import url</span><br><span class="line"></span><br><span class="line">from . import views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    # ex: /polls/</span><br><span class="line">    url(r&apos;^$&apos;, views.index, name=&apos;index&apos;),</span><br><span class="line">    # ex: /polls/5/</span><br><span class="line">    url(r&apos;^(?P&lt;question_id&gt;[0-9]+)/$&apos;, views.detail, name=&apos;detail&apos;),</span><br><span class="line">    # ex: /polls/5/results/</span><br><span class="line">    url(r&apos;^(?P&lt;question_id&gt;[0-9]+)/results/$&apos;, views.results, name=&apos;results&apos;),</span><br><span class="line">    # ex: /polls/5/vote/</span><br><span class="line">    url(r&apos;^(?P&lt;question_id&gt;[0-9]+)/vote/$&apos;, views.vote, name=&apos;vote&apos;),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>以 <a href="http://127.0.0.1:8000/polls/34/" target="_blank" rel="external">http://127.0.0.1:8000/polls/34/</a> 为例, URL之匹配除域名以外的部分，ROOT_URLCONF里的URL <code>url(r&#39;^polls/&#39;, include(&#39;polls.urls&#39;)),</code> 匹配了 “polls/“ 再将剩余部分 “34/“ 发送到‘polls.urls’ URLconf 进一步处理，<code>(?P&lt;question_id&gt;[0-9]+)</code>圆括号用来捕获值，”?P<question_id>“ 用来定义将要匹配到的模式的名字。[0-9]+ 匹配1到多个数字。最后将匹配到的34作为参数传给detail方法。</question_id></p>
<h3 id="3-写几个有用的View"><a href="#3-写几个有用的View" class="headerlink" title="3. 写几个有用的View"></a>3. 写几个有用的View</h3><p>每个View负责返回一个HttpResponse 对象，或者返回异常如Http404<br>列出最后5个问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from django.http import HttpResponse</span><br><span class="line"></span><br><span class="line">from .models import Question</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def index(request):</span><br><span class="line">    latest_question_list = Question.objects.order_by(&apos;-pub_date&apos;)[:5]</span><br><span class="line">    output = &apos;, &apos;.join([q.question_text for q in latest_question_list])</span><br><span class="line">    return HttpResponse(output)</span><br><span class="line"></span><br><span class="line"># Leave the rest of the views (detail, results, vote) unchanged</span><br></pre></td></tr></table></figure></p>
<p>这样做的缺点时，页面内容写在View的代码里，如果要改变页面的样子，就得修改Python代码。可以用模版系统来把Python跟页面设计区分开来。在setting.py的TEMPLATES设置里描述了Django如何加载和渲染模版。习惯上Django会在每个安装的APP的目录下查找templates 文件夹。</p>
<p>创建<strong>polls/templates/polls/index.html</strong> 写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if latest_question_list %&#125;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &#123;% for question in latest_question_list %&#125;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;/polls/&#123;&#123; question.id &#125;&#125;/&quot;&gt;&#123;&#123; question.question_text &#125;&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&#123;% else %&#125;</span><br><span class="line">    &lt;p&gt;No polls are available.&lt;/p&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>修改<strong>polls/views.py</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from django.http import HttpResponse</span><br><span class="line">from django.template import loader</span><br><span class="line"></span><br><span class="line">from .models import Question</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def index(request):</span><br><span class="line">    latest_question_list = Question.objects.order_by(&apos;-pub_date&apos;)[:5]</span><br><span class="line">    template = loader.get_template(&apos;polls/index.html&apos;)</span><br><span class="line">    context = &#123;</span><br><span class="line">        &apos;latest_question_list&apos;: latest_question_list,</span><br><span class="line">    &#125;</span><br><span class="line">    return HttpResponse(template.render(context, request))</span><br></pre></td></tr></table></figure></p>
<p>这段代码加载<strong>polls/templates/polls/index.html</strong> 并传入一个context。这个context是一个字典，将模版的变量名映射为Pyhon对象。</p>
<h3 id="一个快捷的render-方法，常见的做法是载入模版，填入上下文，返回一个包含了渲染后之模版的HttpResponse对象。Django提供一个捷径如下："><a href="#一个快捷的render-方法，常见的做法是载入模版，填入上下文，返回一个包含了渲染后之模版的HttpResponse对象。Django提供一个捷径如下：" class="headerlink" title="一个快捷的render() 方法，常见的做法是载入模版，填入上下文，返回一个包含了渲染后之模版的HttpResponse对象。Django提供一个捷径如下："></a>一个快捷的render() 方法，常见的做法是载入模版，填入上下文，返回一个包含了渲染后之模版的HttpResponse对象。Django提供一个捷径如下：</h3><p>重写<strong>polls/views.py</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render</span><br><span class="line"></span><br><span class="line">from .models import Question</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def index(request):</span><br><span class="line">    latest_question_list = Question.objects.order_by(&apos;-pub_date&apos;)[:5]</span><br><span class="line">    context = &#123;&apos;latest_question_list&apos;: latest_question_list&#125;</span><br><span class="line">    return render(request, &apos;polls/index.html&apos;, context)</span><br></pre></td></tr></table></figure></p>
<h3 id="4-报一个404错误"><a href="#4-报一个404错误" class="headerlink" title="4. 报一个404错误"></a>4. 报一个404错误</h3><p>修改<strong>polls/views.py</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from django.http import Http404</span><br><span class="line">from django.shortcuts import render</span><br><span class="line"></span><br><span class="line">from .models import Question</span><br><span class="line"># ...</span><br><span class="line">def detail(request, question_id):</span><br><span class="line">    try:</span><br><span class="line">        question = Question.objects.get(pk=question_id)</span><br><span class="line">    except Question.DoesNotExist:</span><br><span class="line">        raise Http404(&quot;Question does not exist&quot;)</span><br><span class="line">    return render(request, &apos;polls/detail.html&apos;, &#123;&apos;question&apos;: question&#125;)</span><br></pre></td></tr></table></figure></p>
<p>创建<strong>polls/templates/polls/detail.html</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; question &#125;&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="5-捷径：A-shortcut-get-object-or-404"><a href="#5-捷径：A-shortcut-get-object-or-404" class="headerlink" title="5. 捷径：A shortcut: get_object_or_404()"></a>5. 捷径：<code>A shortcut: get_object_or_404()</code></h3><p>重写detail方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def detail(request, question_id):</span><br><span class="line">    question = get_object_or_404(Question, pk=question_id)</span><br><span class="line">    return render(request, &apos;polls/detail.html&apos;, &#123;&apos;question&apos;: question&#125;)</span><br></pre></td></tr></table></figure></p>
<p>之所以让model API 报Http404错误而不是ObjectDoesNotExist异常，是因为如果不这样会造成模型层跟视图层的耦合。<em>或者说views.py不应该关心模型层面的事情，而应该只专注于如何展示，取到什么内容就展示什么。去到的内容是正确的值还是错误信息，应该是model或者controller的事</em></p>
<p>同样的<strong>get_list_or_404()</strong>函数像之前的一样，除了使用filter()而不是get()。当取回的列表为空的时候返回404错误</p>
<h3 id="6-使用模版系统"><a href="#6-使用模版系统" class="headerlink" title="6. 使用模版系统"></a>6. 使用模版系统</h3><p><strong>polls/templates/polls/detail.html</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123; question.question_text &#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&#123;% for choice in question.choice_set.all %&#125;</span><br><span class="line">    &lt;li&gt;&#123;&#123; choice.choice_text &#125;&#125;&lt;/li&gt;</span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<h3 id="7-去掉模版中的URL固定代码"><a href="#7-去掉模版中的URL固定代码" class="headerlink" title="7. 去掉模版中的URL固定代码"></a>7. 去掉模版中的URL固定代码</h3><p>修改<strong>polls/index.html</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;&lt;a href=&quot;/polls/&#123;&#123; question.id &#125;&#125;/&quot;&gt;&#123;&#123; question.question_text &#125;&#125;&lt;/a&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure></p>
<p>因为这是紧耦合的做法（当你修改项目的URL的时候，还需要去改动模版），可以使用模版标记来去掉模版对特定URL路径的依赖，改为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;&lt;a href=&quot;&#123;% url &apos;detail&apos; question.id %&#125;&quot;&gt;&#123;&#123; question.question_text &#125;&#125;&lt;/a&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure></p>
<p>这样的好处是polls.urls模块中，名为’detail’的url已经定义好了，根据这个跳转就了，以后如果要修改指向，只要修改polls.urls就好，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url(r&apos;^specifics/(?P&lt;question_id&gt;[0-9]+)/$&apos;, views.detail, name=&apos;detail&apos;),</span><br></pre></td></tr></table></figure></p>
<h3 id="8-使用带命名空间的URL名"><a href="#8-使用带命名空间的URL名" class="headerlink" title="8. 使用带命名空间的URL名"></a>8. 使用带命名空间的URL名</h3><p>如果项目中有多个<strong>app</strong> 不只一个app有<strong>detail View</strong>，如何使用模版标记<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% url %&#125;</span><br></pre></td></tr></table></figure></p>
<p>template tag?</p>
<p>在<strong>polls/urls.py</strong>中加入 <code>app_name = &#39;polls&#39;</code> 变成<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from django.conf.urls import url</span><br><span class="line"></span><br><span class="line">from . import views</span><br><span class="line"></span><br><span class="line">app_name = &apos;polls&apos;</span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(r&apos;^$&apos;, views.index, name=&apos;index&apos;),</span><br><span class="line">    url(r&apos;^(?P&lt;question_id&gt;[0-9]+)/$&apos;, views.detail, name=&apos;detail&apos;),</span><br><span class="line">    url(r&apos;^(?P&lt;question_id&gt;[0-9]+)/results/$&apos;, views.results, name=&apos;results&apos;),</span><br><span class="line">    url(r&apos;^(?P&lt;question_id&gt;[0-9]+)/vote/$&apos;, views.vote, name=&apos;vote&apos;),</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>修改<strong>polls/templates/polls/index.html</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;&lt;a href=&quot;&#123;% url &apos;polls:detail&apos; question.id %&#125;&quot;&gt;&#123;&#123; question.question_text &#125;&#125;&lt;/a&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure>
<p>这样Django就知道如何生成动态的超链接指向了，而去要修改app的URL也只需要修改对应<strong>app/urls.py</strong> ，无需修改模版。由于模版中往往包含超链接，这样的好处还是很大的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/12/06/First-Django-App-on-Mac-Docker-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/First-Django-App-on-Mac-Docker-2/" itemprop="url">First Django App on Mac Docker - 2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-06T12:37:48+13:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index">
                    <span itemprop="name">Backend</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/06/First-Django-App-on-Mac-Docker-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/06/First-Django-App-on-Mac-Docker-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Mac-Docker-创建第一个Django-应用，Part-2"><a href="#Mac-Docker-创建第一个Django-应用，Part-2" class="headerlink" title="Mac Docker 创建第一个Django 应用，Part 2"></a>Mac Docker 创建第一个Django 应用，Part 2</h1><blockquote>
<p>原文：<a href="https://docs.djangoproject.com/en/1.11/intro/tutorial02/" target="_blank" rel="external">Writing your first Django app, part 2</a><br>本文Python搭建在 Django Compose + Djang 执行Python需进入web server容器中，请参看[第一步：在Mac构建Django 容器]<br>翻译整理：CK</p>
</blockquote>
<h2 id="Part-2：配置后端"><a href="#Part-2：配置后端" class="headerlink" title="Part 2：配置后端"></a>Part 2：配置后端</h2><h3 id="1-配置数据库"><a href="#1-配置数据库" class="headerlink" title="1. 配置数据库"></a>1. 配置数据库</h3><p>已有建有的项目为mysite，Docker Django 的教程里建立了一个composeexample，这里不适用它。假设我们的真实项目为mysite，打开myiste/settings.py，默认配置的数据库是SQLite，SQLite包含在Python里，无需安装任何其他东西。如果第一次创建真实的项目，仍然希望用可伸缩性更强的数据库像PostgreSQL，免得将来又要切换数据库则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    &apos;default&apos;: &#123;</span><br><span class="line">        &apos;ENGINE&apos;: &apos;django.db.backends.postgresql&apos;,</span><br><span class="line">        &apos;NAME&apos;: &apos;postgres&apos;,</span><br><span class="line">        &apos;USER&apos;: &apos;postgres&apos;,</span><br><span class="line">        &apos;HOST&apos;: &apos;db&apos;,</span><br><span class="line">        &apos;PORT&apos;: 5432,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其他数据库绑定参考：<a href="https://docs.djangoproject.com/en/1.11/topics/install/#database-installation" target="_blank" rel="external">Database Bindings</a></p>
<p>由于使用了Docker容器来运行python，数据迁移<code>$ python manage.py migrate</code>也需要在容器里做，所以先查看容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES</span><br><span class="line">bf1ef3b74f1b        mysite_web          &quot;python3 manage.py...&quot;   About an hour ago   Up 13 minutes       0.0.0.0:8000-&gt;8000/tcp   mysite_web_1</span><br><span class="line">09f6cebc8741        postgres            &quot;docker-entrypoint...&quot;   2 hours ago         Up 13 minutes       5432/tcp                 mysite_db_1</span><br></pre></td></tr></table></figure>
<p>进入容器并执行migrate：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it mysite_db_1 bash</span><br><span class="line">$ python manage.py migrate</span><br></pre></td></tr></table></figure></p>
<p>这条命令根据myiste/settings.py里的 INSTALLED_APPS 的需要安装必要数据库表格，安装完成后再连接PostgreSQL <code>psql DBNAME USERNAME</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@09f6cebc8741:/# psql postgres postgres</span><br></pre></td></tr></table></figure></p>
<p>输入<code>\dt</code> 应该能看到类似Tables</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">postgres=# \dt</span><br><span class="line">                   List of relations</span><br><span class="line"> Schema |            Name            | Type  |  Owner</span><br><span class="line">--------+----------------------------+-------+----------</span><br><span class="line"> public | auth_group                 | table | postgres</span><br><span class="line"> public | auth_group_permissions     | table | postgres</span><br><span class="line"> public | auth_permission            | table | postgres</span><br><span class="line"> public | auth_user                  | table | postgres</span><br><span class="line"> public | auth_user_groups           | table | postgres</span><br><span class="line"> public | auth_user_user_permissions | table | postgres</span><br><span class="line"> public | django_admin_log           | table | postgres</span><br><span class="line"> public | django_content_type        | table | postgres</span><br><span class="line"> public | django_migrations          | table | postgres</span><br><span class="line"> public | django_session             | table | postgres</span><br><span class="line">(10 rows)</span><br></pre></td></tr></table></figure>
<p>退出Postgres<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postgres-# \q</span><br></pre></td></tr></table></figure></p>
<h3 id="2-创建数据模型"><a href="#2-创建数据模型" class="headerlink" title="2. 创建数据模型"></a>2. 创建数据模型</h3><p>编辑<code>polls/models.py</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Question</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    question_text = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">    pub_date = models.DateTimeField(<span class="string">'date published'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Choice</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    question = models.ForeignKey(Question, on_delete=models.CASCADE)</span><br><span class="line">    choice_text = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">    votes = models.IntegerField(default=<span class="number">0</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="3-启动数据模型"><a href="#3-启动数据模型" class="headerlink" title="3. 启动数据模型"></a>3. 启动数据模型</h3><ol>
<li><p>通知Prject，polls app 应用已安装</p>
<p> 编辑mysite/settings.py，添加一行<code>&#39;polls.apps.PollsConfig&#39;,</code></p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    &apos;polls.apps.PollsConfig&apos;,</span><br><span class="line">    &apos;django.contrib.admin&apos;,</span><br><span class="line">    &apos;django.contrib.auth&apos;,</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,</span><br><span class="line">    &apos;django.contrib.sessions&apos;,</span><br><span class="line">    &apos;django.contrib.messages&apos;,</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ol>
<li>到web容器中执行命令：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py makemigrations polls</span><br></pre></td></tr></table></figure>
<p>makemigrations 告诉Django你对模型做了些修改，并并希望保存下来。Django会创建修改脚本polls/migrations/0001_initial.py，<br>应该会看到类似：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Migrations for &apos;polls&apos;:</span><br><span class="line">  polls/migrations/0001_initial.py:</span><br><span class="line">    - Create model Choice</span><br><span class="line">    - Create model Question</span><br><span class="line">    - Add field question to choice</span><br></pre></td></tr></table></figure>
<p>到此数据库并未改变，真正执行变更并且帮助你管理数据库模式是<code>migration</code>命令，可以用如下命令查看将要执行的SQL命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py sqlmigrate polls 0001</span><br></pre></td></tr></table></figure></p>
<p>应该会看到类似（不同数据库会有所不同）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">BEGIN;</span><br><span class="line">--</span><br><span class="line">-- Create model Choice</span><br><span class="line">--</span><br><span class="line">CREATE TABLE &quot;polls_choice&quot; (&quot;id&quot; serial NOT NULL PRIMARY KEY, &quot;choice_text&quot; varchar(200) NOT NULL, &quot;votes&quot; integer NOT NULL);</span><br><span class="line">--</span><br><span class="line">-- Create model Question</span><br><span class="line">--</span><br><span class="line">CREATE TABLE &quot;polls_question&quot; (&quot;id&quot; serial NOT NULL PRIMARY KEY, &quot;question_text&quot; varchar(200) NOT NULL, &quot;pub_date&quot; timestamp with time zone NOT NULL);</span><br><span class="line">--</span><br><span class="line">-- Add field question to choice</span><br><span class="line">--</span><br><span class="line">ALTER TABLE &quot;polls_choice&quot; ADD COLUMN &quot;question_id&quot; integer NOT NULL;</span><br><span class="line">CREATE INDEX &quot;polls_choice_question_id_c5b4b260&quot; ON &quot;polls_choice&quot; (&quot;question_id&quot;);</span><br><span class="line">ALTER TABLE &quot;polls_choice&quot; ADD CONSTRAINT &quot;polls_choice_question_id_c5b4b260_fk_polls_question_id&quot; FOREIGN KEY (&quot;question_id&quot;) REFERENCES &quot;polls_question&quot; (&quot;id&quot;) DEFERRABLE INITIALLY DEFERRED;</span><br><span class="line">COMMIT;</span><br></pre></td></tr></table></figure></p>
<p>保存数据库修改：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py migrate</span><br><span class="line">Operations to perform:</span><br><span class="line">  Apply all migrations: admin, auth, contenttypes, polls, sessions</span><br><span class="line">Running migrations:</span><br><span class="line">  Rendering model states... DONE</span><br><span class="line">  Applying polls.0001_initial... OK</span><br></pre></td></tr></table></figure></p>
<p>小结：<br>修改数据库分三步：</p>
<ol>
<li>修改模型 (in models.py).</li>
<li>执行: <code>python manage.py makemigrations</code> 创建一个迁移</li>
<li>执行：<code>python manage.py migrate</code> 保存变更</li>
</ol>
<h3 id="4-API"><a href="#4-API" class="headerlink" title="4. API"></a>4. API</h3><p>下面进入交互式的Python Shell跟API一起玩耍吧，别忘了先进入容器。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py shell</span><br></pre></td></tr></table></figure></p>
<p>如需了解database API的相关内容<a href="https://docs.djangoproject.com/en/1.11/topics/db/queries/" target="_blank" rel="external">：database API</a></p>
<p>可进行一下尝试了解API：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from polls.models import Question, Choice   # Import the model classes we just wrote.</span><br><span class="line"></span><br><span class="line"># No questions are in the system yet.</span><br><span class="line">&gt;&gt;&gt; Question.objects.all()</span><br><span class="line">&lt;QuerySet []&gt;</span><br><span class="line"></span><br><span class="line"># Create a new Question.</span><br><span class="line"># Support for time zones is enabled in the default settings file, so</span><br><span class="line"># Django expects a datetime with tzinfo for pub_date. Use timezone.now()</span><br><span class="line"># instead of datetime.datetime.now() and it will do the right thing.</span><br><span class="line">&gt;&gt;&gt; from django.utils import timezone</span><br><span class="line">&gt;&gt;&gt; q = Question(question_text=&quot;What&apos;s new?&quot;, pub_date=timezone.now())</span><br><span class="line"></span><br><span class="line"># Save the object into the database. You have to call save() explicitly.</span><br><span class="line">&gt;&gt;&gt; q.save()</span><br><span class="line"></span><br><span class="line"># Now it has an ID. Note that this might say &quot;1L&quot; instead of &quot;1&quot;, depending</span><br><span class="line"># on which database you&apos;re using. That&apos;s no biggie; it just means your</span><br><span class="line"># database backend prefers to return integers as Python long integer</span><br><span class="line"># objects.</span><br><span class="line">&gt;&gt;&gt; q.id</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line"># Access model field values via Python attributes.</span><br><span class="line">&gt;&gt;&gt; q.question_text</span><br><span class="line">&quot;What&apos;s new?&quot;</span><br><span class="line">&gt;&gt;&gt; q.pub_date</span><br><span class="line">datetime.datetime(2012, 2, 26, 13, 0, 0, 775217, tzinfo=&lt;UTC&gt;)</span><br><span class="line"></span><br><span class="line"># Change values by changing the attributes, then calling save().</span><br><span class="line">&gt;&gt;&gt; q.question_text = &quot;What&apos;s up?&quot;</span><br><span class="line">&gt;&gt;&gt; q.save()</span><br><span class="line"></span><br><span class="line"># objects.all() displays all the questions in the database.</span><br><span class="line">&gt;&gt;&gt; Question.objects.all()</span><br><span class="line">&lt;QuerySet [&lt;Question: Question object&gt;]&gt;</span><br></pre></td></tr></table></figure></p>
<p>为了让<code>&lt;Question: Question object&gt;</code>输出更可读<br>给模块Question and Choice (in the polls/models.py file) 添加 <code>__str__()</code> 方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from django.db import models</span><br><span class="line">from django.utils.encoding import python_2_unicode_compatible</span><br><span class="line"></span><br><span class="line">@python_2_unicode_compatible  # only if you need to support Python 2</span><br><span class="line">class Question(models.Model):</span><br><span class="line">    # ...</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.question_text</span><br><span class="line"></span><br><span class="line">@python_2_unicode_compatible  # only if you need to support Python 2</span><br><span class="line">class Choice(models.Model):</span><br><span class="line">    # ...</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.choice_text</span><br></pre></td></tr></table></figure></p>
<p>除了那些常见的Python方法，可以添加一个自定义的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import datetime</span><br><span class="line"></span><br><span class="line">from django.db import models</span><br><span class="line">from django.utils import timezone</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Question(models.Model):</span><br><span class="line">    # ...</span><br><span class="line">    def was_published_recently(self):</span><br><span class="line">        return self.pub_date &gt;= timezone.now() - datetime.timedelta(days=1)</span><br></pre></td></tr></table></figure></p>
<p>在次进入shell看看有哪些变化：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from polls.models import Question, Choice</span><br><span class="line"></span><br><span class="line"># Make sure our __str__() addition worked.</span><br><span class="line">&gt;&gt;&gt; Question.objects.all()</span><br><span class="line">&lt;QuerySet [&lt;Question: What&apos;s up?&gt;]&gt;</span><br><span class="line"></span><br><span class="line"># Django provides a rich database lookup API that&apos;s entirely driven by</span><br><span class="line"># keyword arguments.</span><br><span class="line">&gt;&gt;&gt; Question.objects.filter(id=1)</span><br><span class="line">&lt;QuerySet [&lt;Question: What&apos;s up?&gt;]&gt;</span><br><span class="line">&gt;&gt;&gt; Question.objects.filter(question_text__startswith=&apos;What&apos;)</span><br><span class="line">&lt;QuerySet [&lt;Question: What&apos;s up?&gt;]&gt;</span><br><span class="line"></span><br><span class="line"># Get the question that was published this year.</span><br><span class="line">&gt;&gt;&gt; from django.utils import timezone</span><br><span class="line">&gt;&gt;&gt; current_year = timezone.now().year</span><br><span class="line">&gt;&gt;&gt; Question.objects.get(pub_date__year=current_year)</span><br><span class="line">&lt;Question: What&apos;s up?&gt;</span><br><span class="line"></span><br><span class="line"># Request an ID that doesn&apos;t exist, this will raise an exception.</span><br><span class="line">&gt;&gt;&gt; Question.objects.get(id=2)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">    ...</span><br><span class="line">DoesNotExist: Question matching query does not exist.</span><br><span class="line"></span><br><span class="line"># Lookup by a primary key is the most common case, so Django provides a</span><br><span class="line"># shortcut for primary-key exact lookups.</span><br><span class="line"># The following is identical to Question.objects.get(id=1).</span><br><span class="line">&gt;&gt;&gt; Question.objects.get(pk=1)</span><br><span class="line">&lt;Question: What&apos;s up?&gt;</span><br><span class="line"></span><br><span class="line"># Make sure our custom method worked.</span><br><span class="line">&gt;&gt;&gt; q = Question.objects.get(pk=1)</span><br><span class="line">&gt;&gt;&gt; q.was_published_recently()</span><br><span class="line">True</span><br><span class="line"></span><br><span class="line"># Give the Question a couple of Choices. The create call constructs a new</span><br><span class="line"># Choice object, does the INSERT statement, adds the choice to the set</span><br><span class="line"># of available choices and returns the new Choice object. Django creates</span><br><span class="line"># a set to hold the &quot;other side&quot; of a ForeignKey relation</span><br><span class="line"># (e.g. a question&apos;s choice) which can be accessed via the API.</span><br><span class="line">&gt;&gt;&gt; q = Question.objects.get(pk=1)</span><br><span class="line"></span><br><span class="line"># Display any choices from the related object set -- none so far.</span><br><span class="line">&gt;&gt;&gt; q.choice_set.all()</span><br><span class="line">&lt;QuerySet []&gt;</span><br><span class="line"></span><br><span class="line"># Create three choices.</span><br><span class="line">&gt;&gt;&gt; q.choice_set.create(choice_text=&apos;Not much&apos;, votes=0)</span><br><span class="line">&lt;Choice: Not much&gt;</span><br><span class="line">&gt;&gt;&gt; q.choice_set.create(choice_text=&apos;The sky&apos;, votes=0)</span><br><span class="line">&lt;Choice: The sky&gt;</span><br><span class="line">&gt;&gt;&gt; c = q.choice_set.create(choice_text=&apos;Just hacking again&apos;, votes=0)</span><br><span class="line"></span><br><span class="line"># Choice objects have API access to their related Question objects.</span><br><span class="line">&gt;&gt;&gt; c.question</span><br><span class="line">&lt;Question: What&apos;s up?&gt;</span><br><span class="line"></span><br><span class="line"># And vice versa: Question objects get access to Choice objects.</span><br><span class="line">&gt;&gt;&gt; q.choice_set.all()</span><br><span class="line">&lt;QuerySet [&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]&gt;</span><br><span class="line">&gt;&gt;&gt; q.choice_set.count()</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line"># The API automatically follows relationships as far as you need.</span><br><span class="line"># Use double underscores to separate relationships.</span><br><span class="line"># This works as many levels deep as you want; there&apos;s no limit.</span><br><span class="line"># Find all Choices for any question whose pub_date is in this year</span><br><span class="line"># (reusing the &apos;current_year&apos; variable we created above).</span><br><span class="line">&gt;&gt;&gt; Choice.objects.filter(question__pub_date__year=current_year)</span><br><span class="line">&lt;QuerySet [&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]&gt;</span><br><span class="line"></span><br><span class="line"># Let&apos;s delete one of the choices. Use delete() for that.</span><br><span class="line">&gt;&gt;&gt; c = q.choice_set.filter(choice_text__startswith=&apos;Just hacking&apos;)</span><br><span class="line">&gt;&gt;&gt; c.delete()</span><br></pre></td></tr></table></figure></p>
<h3 id="5-介绍Django-Admin"><a href="#5-介绍Django-Admin" class="headerlink" title="5. 介绍Django Admin"></a>5. 介绍Django Admin</h3><h4 id="1-创建Admin用户"><a href="#1-创建Admin用户" class="headerlink" title="1. 创建Admin用户"></a>1. 创建Admin用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py createsuperuser</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Username: admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Email address: admin@example.com</span><br></pre></td></tr></table></figure>
<p>验证两次密码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Password: **********</span><br><span class="line">Password (again): *********</span><br><span class="line">Superuser created successfully.</span><br></pre></td></tr></table></figure></p>
<p>注册成功</p>
<h4 id="2-开始服务器开发"><a href="#2-开始服务器开发" class="headerlink" title="2. 开始服务器开发"></a>2. 开始服务器开发</h4><p>Django的Admin是默认激活的</p>
<p>启动服务器 <code>docker-compose up</code>  </p>
<p>打开： <a href="http://127.0.0.1:8000/admin/" target="_blank" rel="external">http://127.0.0.1:8000/admin/</a></p>
<p><img src="/2017/12/06/First-Django-App-on-Mac-Docker-2/admin01.png" alt="image"></p>
<p>输入账号密码</p>
<p><img src="/2017/12/06/First-Django-App-on-Mac-Docker-2/admin02.png" alt="image"></p>
<h4 id="3-通过admin来管理poll应用"><a href="#3-通过admin来管理poll应用" class="headerlink" title="3. 通过admin来管理poll应用"></a>3. 通过admin来管理poll应用</h4><p>修改<strong>polls/admin.py</strong> 注册Question到admin site 来告诉admin Question 已经提供了admin的接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from django.contrib import admin</span><br><span class="line"></span><br><span class="line">from .models import Question</span><br><span class="line"></span><br><span class="line">admin.site.register(Question)</span><br></pre></td></tr></table></figure></p>
<p><img src="/2017/12/06/First-Django-App-on-Mac-Docker-2/admin03t.png" alt="image"></p>
<p>可以看到之前创建的question</p>
<p><img src="/2017/12/06/First-Django-App-on-Mac-Docker-2/admin04t.png" alt="image"></p>
<p>可以修改</p>
<p><img src="/2017/12/06/First-Django-App-on-Mac-Docker-2/admin05t.png" alt="image"></p>
<p>如果选择时间<strong>Now</strong>的时候发现时间不对，那可能就是时区问题。<br>检查之前的设置<code>mysite/setting.py</code> 例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#TIME_ZONE = &apos;UTC&apos;</span><br><span class="line">TIME_ZONE = &apos;Pacific/Auckland&apos;</span><br></pre></td></tr></table></figure></p>
<p>好了，完成第二步了</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/12/06/First-Django-App-on-Mac-Docker-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/First-Django-App-on-Mac-Docker-1/" itemprop="url">First Django App on Mac Docker - 1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-06T12:31:10+13:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index">
                    <span itemprop="name">Backend</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/06/First-Django-App-on-Mac-Docker-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/06/First-Django-App-on-Mac-Docker-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Mac-Docker-创建第一个Django-应用，Part-1"><a href="#Mac-Docker-创建第一个Django-应用，Part-1" class="headerlink" title="Mac Docker 创建第一个Django 应用，Part 1"></a>Mac Docker 创建第一个Django 应用，Part 1</h1><h2 id="第一步：在Mac构建Django-容器"><a href="#第一步：在Mac构建Django-容器" class="headerlink" title="第一步：在Mac构建Django 容器"></a>第一步：在Mac构建Django 容器</h2><blockquote>
<p>原文：<a href="&quot;https://docs.docker.com/compose/django/#create-a-django-project&quot;">Quickstart: Compose and Django</a><br>翻译整理：CK</p>
</blockquote>
<p>这篇文章将指导你如何用Docker Compose 配置和启动一个简单的 Django + PostgreSQL 应用。请先确保您已安装Compose：<br><a href="&quot;https://docs.docker.com/compose/install/&quot;">Install Docker Compose</a></p>
<p><strong>定义您的项目组件</strong></p>
<p>您需要创建一个Dockerfile 和一个Python 依赖文件，以及一个docker-compose.yml文件</p>
<ol>
<li>创建一个项目目录</li>
<li>创建一个新的Dockerfile在当前项目目录下</li>
<li><p>添加内容到Dockerfile</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FROM python:3</span><br><span class="line">ENV PYTHONUNBUFFERED 1</span><br><span class="line">RUN mkdir /code</span><br><span class="line">WORKDIR /code</span><br><span class="line">ADD requirements.txt /code/</span><br><span class="line">RUN pip install -r requirements.txt</span><br><span class="line">ADD . /code/</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存Dockerfile</p>
</li>
<li>创建一个 requirements.txt<br>Dockerfile 中的 <code>RUN pip install -r requirements.txt</code> 将会用到它</li>
<li><p>添加所需的软件到requirements.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Django&gt;=1.8,&lt;2.0</span><br><span class="line">psycopg2</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存requirements.txt</p>
</li>
<li><p>创建一个docker-compose.yml<br>docker-compose.yml文件里描述了您的app所需要的服务。compose一词我认为翻译为编制更恰当。在这里我们需要一个web服务器，一个数据服务器。编制文件指明了我们这些服务所用的镜像，他们如何连接，哪些卷要挂载到容器。最后定义服务端口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">version: &apos;3&apos;</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  db:</span><br><span class="line">    image: postgres</span><br><span class="line">  web:</span><br><span class="line">    build: .</span><br><span class="line">    command: python3 manage.py runserver 0.0.0.0:8000</span><br><span class="line">    volumes:</span><br><span class="line">      - .:/code</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;8000:8000&quot;</span><br><span class="line">    depends_on:</span><br><span class="line">      - db</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存 docker-compose.yml</p>
</li>
</ol>
<p><strong>创建一个Django项目</strong></p>
<ol>
<li>转到项目根目录</li>
<li>用docker-compose 创建项目<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose run web django-admin.py startproject composeexample .</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>docker将启动web容器，并在里面执行 django-admin.py startproject composeexample，因为web镜像不存在所以compose先从当前目录建立它，见 build: 因为挂在了当前目录，所以新创建的项目文件在<code>docker-compose run</code>执行完推出后可以看到</p>
<ol>
<li>ls 项目目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l</span><br><span class="line"> drwxr-xr-x 2 root   root   composeexample</span><br><span class="line"> -rw-rw-r-- 1 user   user   docker-compose.yml</span><br><span class="line"> -rw-rw-r-- 1 user   user   Dockerfile</span><br><span class="line"> -rwxr-xr-x 1 root   root   manage.py</span><br><span class="line"> -rw-rw-r-- 1 user   user   requirements.txt</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p> <strong>连接数据库</strong></p>
<ol>
<li>打开composeexample/settings.py</li>
<li>替换DATABASE = …项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    &apos;default&apos;: &#123;</span><br><span class="line">        &apos;ENGINE&apos;: &apos;django.db.backends.postgresql&apos;,</span><br><span class="line">        &apos;NAME&apos;: &apos;postgres&apos;,</span><br><span class="line">        &apos;USER&apos;: &apos;postgres&apos;,</span><br><span class="line">        &apos;HOST&apos;: &apos;db&apos;,</span><br><span class="line">        &apos;PORT&apos;: 5432,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>这些参数是根据docker-compose.yml所指定的postgres Docker 镜像决定的。</p>
<ol>
<li>保存</li>
<li>执行docker-compose up<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose up</span><br><span class="line">djangosample_db_1 is up-to-date</span><br><span class="line">Creating djangosample_web_1 ...</span><br><span class="line">Creating djangosample_web_1 ... done</span><br><span class="line">Attaching to djangosample_db_1, djangosample_web_1</span><br><span class="line">db_1   | The files belonging to this database system will be owned by user &quot;postgres&quot;.</span><br><span class="line">db_1   | This user must also own the server process.</span><br><span class="line">db_1   |</span><br><span class="line">db_1   | The database cluster will be initialized with locale &quot;en_US.utf8&quot;.</span><br><span class="line">db_1   | The default database encoding has accordingly been set to &quot;UTF8&quot;.</span><br><span class="line">db_1   | The default text search configuration will be set to &quot;english&quot;.</span><br><span class="line"></span><br><span class="line">. . .</span><br><span class="line"></span><br><span class="line">web_1  | May 30, 2017 - 21:44:49</span><br><span class="line">web_1  | Django version 1.11.1, using settings &apos;composeexample.settings&apos;</span><br><span class="line">web_1  | Starting development server at http://0.0.0.0:8000/</span><br><span class="line">web_1  | Quit the server with CONTROL-C.</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>此时，你的Django app应该运行在8000端口上了。浏览器打开<a href="http://localhost:8000应该能看到" target="_blank" rel="external">http://localhost:8000应该能看到</a><br><img src="/2017/12/06/First-Django-App-on-Mac-Docker-1/django-it-worked.png" alt="image"></p>
<ol>
<li><p>列出所有容器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES</span><br><span class="line">def85eff5f51        django_web          &quot;python3 manage.py...&quot;   10 minutes ago      Up 9 minutes        0.0.0.0:8000-&gt;8000/tcp   django_web_1</span><br><span class="line">678ce61c79cc        postgres            &quot;docker-entrypoint...&quot;   20 minutes ago      Up 9 minutes        5432/tcp                 django_db_1</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭容器<br>Ctrl-C<br>或者新开一个terminal执行： <code>docker-compose down</code></p>
</li>
</ol>
<h2 id="部署已有的项目到容器"><a href="#部署已有的项目到容器" class="headerlink" title="部署已有的项目到容器"></a><strong>部署已有的项目到容器</strong></h2><ol>
<li>将docker-compose.yml requirements.txt Dockerfile 拷贝到Django项目的根目录，应与manage.py同目录</li>
<li>运行<code>docker-compose up</code></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/30/Python-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/30/Python-Notes/" itemprop="url">Python Notes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-30T15:33:14+13:00">
                2017-11-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Languages/" itemprop="url" rel="index">
                    <span itemprop="name">Languages</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/30/Python-Notes/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/30/Python-Notes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Python-Notes"><a href="#Python-Notes" class="headerlink" title="Python Notes"></a>Python Notes</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/27/Learning-STATS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/27/Learning-STATS/" itemprop="url">Learning STATS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-27T12:40:30+13:00">
                2017-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Data-Science/" itemprop="url" rel="index">
                    <span itemprop="name">Data Science</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/27/Learning-STATS/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/27/Learning-STATS/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>A summary of my Statistic Course (Language: EN+CHN) <a href="http://rpubs.com/Chunkai/STATS-Learning-Summary" target="_blank" rel="external">[Click]</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/22/ASP-Net-Core-Online-Store-Project/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/22/ASP-Net-Core-Online-Store-Project/" itemprop="url">ASP.Net Core - Online Store Project</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-22T13:32:52+13:00">
                2017-11-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Projects/" itemprop="url" rel="index">
                    <span itemprop="name">Projects</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/22/ASP-Net-Core-Online-Store-Project/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/22/ASP-Net-Core-Online-Store-Project/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>For study and research used, not a production system.<br>Finished on 14 October 2017</p>
</blockquote>
<h1 id="Quality-Hats-Online-Store"><a href="#Quality-Hats-Online-Store" class="headerlink" title="Quality Hats Online Store"></a>Quality Hats Online Store</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="Develop-Environment"><a href="#Develop-Environment" class="headerlink" title="Develop Environment"></a>Develop Environment</h3><ul>
<li>ASP.NET Core with Visual Studio 2015</li>
<li>C#, ASP.NET CORE, HTML</li>
<li><p>Microsoft SQL server</p>
</li>
<li><p>Customers on this web site can look and search the hats they like, put their favorite hats into a shopping cart. The customers can also see the total price and GST without logining to an account. Like the common approach, we provide a private shopping bag to store a particular account’s pending shopping list.</p>
</li>
<li>Site administrator can manage the Customer Accounts, Product (hats), Categories, Suppliers and Orders.</li>
</ul>
<h3 id="Login-Information"><a href="#Login-Information" class="headerlink" title="Login Information"></a>Login Information</h3><table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Website URL:</td>
<td><a href="http://dochyper.unitec.ac.nz/mengc06/asp_assignment" target="_blank" rel="external">http://dochyper.unitec.ac.nz/mengc06/asp_assignment</a></td>
</tr>
<tr>
<td>Recommend Browser:</td>
<td>Latest Chrome or IE</td>
</tr>
<tr>
<td>Customer ID / Password:</td>
<td>test@me.com / P@ssw0rd</td>
</tr>
</tbody>
</table>
<h2 id="Business-Specification"><a href="#Business-Specification" class="headerlink" title="Business Specification"></a>Business Specification</h2><h3 id="Screenshot"><a href="#Screenshot" class="headerlink" title="Screenshot"></a>Screenshot</h3><p><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/1.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/2.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/3.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/4.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/5.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/6.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/11.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/22.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/33.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/44.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/55.png" alt="image"><br><img src="/2017/11/22/ASP-Net-Core-Online-Store-Project/66.png" alt="image"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/20/Java-Network-Programming-ChatSystem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/20/Java-Network-Programming-ChatSystem/" itemprop="url">Java Network Programming - ChatSystem Project</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-20T17:43:58+13:00">
                2017-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Projects/" itemprop="url" rel="index">
                    <span itemprop="name">Projects</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/20/Java-Network-Programming-ChatSystem/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/20/Java-Network-Programming-ChatSystem/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java-ChatSystem"><a href="#Java-ChatSystem" class="headerlink" title="Java-ChatSystem"></a>Java-ChatSystem</h1><blockquote>
<p>IDE Eclipse Version: Oxygen.1a Release (4.7.1a)<br>java version “1.8.0_144”<br>Java(TM) SE Runtime Environment (build 1.8.0_144-b01)<br>Developer: Chunkai<br><a href="https://github.com/chunkai-meng/Java-ChatSystem" target="_blank" rel="external">Github</a><br>Completed at Oct 2017</p>
</blockquote>
<h2 id="USAGE"><a href="#USAGE" class="headerlink" title="USAGE"></a>USAGE</h2><ul>
<li>Clone the repository to you local disk</li>
<li>Run “ChatServer.java” to start Server, please make sure that the 5000 port is not being used.</li>
<li>Run some copy of “ChatGui.java” so you can send message to each other.</li>
<li>Input the correct Server IP into Client, by default the server and client running on the same machine, the IP address already set up for you.</li>
<li>Test Account(Usename/Password):<br>A/A<br>B/B<br>C/C<br>Bajie/B1234  </li>
</ul>
<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><h3 id="Client"><a href="#Client" class="headerlink" title="Client:"></a>Client:</h3><p><img src="/2017/11/20/Java-Network-Programming-ChatSystem/Broadcast.png" alt="image"></p>
<ul>
<li>Send a basic text message to the server</li>
<li>Receive text from the server</li>
<li>Username/Password login<br>When account successfully login the login area Test Field will be set to disable, at the same time, the Connect Button text is set to be “Disconnect” waiting for user to disconnect.</li>
<li>Display IP address/nickname of other chat clients</li>
<li>Private messaging between users  <ul>
<li>Design<br>By select a contact from the User List, the message will only be delivered to that person.  </li>
<li>Implementation:<br>When sending a private message, the first msg being sent to server is of type: CHAT_MESSAGE. The second msg is the receiver name, the third msg is message itself.<br>The corresponding ClientHandler Thread maintain a total Client List will forward it to the right person.</li>
</ul>
</li>
<li>Block/ignore user<br><img src="/2017/11/20/Java-Network-Programming-ChatSystem/C-blocked-by-B.png" alt="image"><ul>
<li>Design:<br>When chose a user and click “Block/Unblock” button, this user will be block in this client.Right after the click, the background color of Blocked-User cell is set to Color Gray.If user A is block by user B, A will not received any notice about this blocking, this is for protecting B’s privacy.</li>
<li>Implementation:<br>Each Client maintain two BlockUser ArrayList variables, one is the index of block-user in JList which is used to highlight cell, another ArrayList restore the block-user name for checking the incoming msg.</li>
</ul>
</li>
<li>Enhanced GUI JList  <ul>
<li>Design:<br>A checkbox is added to JList Cell to help distinguish select user and blocked user. The Checkbox always represent the current chatting friend. One Client can block as many users as it want.</li>
<li>Implementation:<br>A CheckboxListCellRenderer class is use to render JList cells, this object is help render different cell background for the blocked users.</li>
</ul>
</li>
</ul>
<h3 id="Server"><a href="#Server" class="headerlink" title="Server:"></a>Server:</h3><ul>
<li>Listen to the default 5000 port and create a new thread for each new connection.</li>
<li>Receive text from a client</li>
<li>Broadcast a text message received from a client to all the other clients connected to the server.</li>
<li>Send the message to the specific person if Messge type is “CHAT_MESSAGE” and receiver is provided.</li>
<li>When a new user is connected or an online user logout, broadcast the new online user list to all online accounts.</li>
</ul>
<h2 id="Documents-Description"><a href="#Documents-Description" class="headerlink" title="Documents Description"></a>Documents Description</h2><ul>
<li>ChatServer.java: The entry of the Server Application, run this app to start server</li>
<li>ChatGui.java:     The entry point of Chat Client,  run some of these app to start chatting.</li>
<li>ClientHandler.java: One ClientHandler thread serve one client.</li>
<li>readByLine.java:    Read registered user data from UserModel.txt (Restore Username and password)</li>
<li>ServerConstants.java: Restore the constant variables which are used to defined the message type.</li>
<li>run.sh is a bash script to recompile and run the server app.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/20/React-Meteor-Project/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/20/React-Meteor-Project/" itemprop="url">React Meteor Project</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-20T11:01:15+13:00">
                2017-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Projects/" itemprop="url" rel="index">
                    <span itemprop="name">Projects</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/20/React-Meteor-Project/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/20/React-Meteor-Project/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Development-Specification"><a href="#Development-Specification" class="headerlink" title="Development Specification"></a>Development Specification</h1><p>This is a Real Project running on AWS.<br>Technique used: Meteor platform + MongoDB + JavaScript<br>Last update at: 9/08/2017</p>
<h1 id="Web-Application-Introduction"><a href="#Web-Application-Introduction" class="headerlink" title="Web Application Introduction"></a>Web Application Introduction</h1><h2 id="Client-Use-Interface"><a href="#Client-Use-Interface" class="headerlink" title="Client Use Interface"></a>Client Use Interface</h2><p>Most of the pages share the same template. This templete can show information in the manner of “Card”. A card can have Title, Image and Description. A Web page adopt the templete can have one card or mulitple cards.<br>So, it can provide a consistent style across all your Web pages, not only easy to read but also easy to maintain.</p>
<p><img src="/2017/11/20/React-Meteor-Project/MrTint.png" alt="image"> </p>
<h2 id="Admin-Interface"><a href="#Admin-Interface" class="headerlink" title="Admin Interface"></a>Admin Interface</h2><p><strong>what you see is what you get</strong><br>After login the Admin accout, it’s very easy to edit the exist “Card” info or add a new “Card”.<br>Admin can adopt two type of “Card”, one is a Comparison Card with two images, another one have only one image.<br><img src="/2017/11/20/React-Meteor-Project/Mrtint-Edit.png" alt="image"><br><img src="/2017/11/20/React-Meteor-Project/New.png" alt="image"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/19/Doing-Data-Science/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Doing-Data-Science/" itemprop="url">Doing Data Science</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-19T15:59:43+13:00">
                2017-11-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Data-Science/" itemprop="url" rel="index">
                    <span itemprop="name">Data Science</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/19/Doing-Data-Science/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/19/Doing-Data-Science/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Doing-Data-Science"><a href="#Doing-Data-Science" class="headerlink" title="Doing Data Science"></a>Doing Data Science</h1><blockquote>
<p>Status: Unfinished  </p>
</blockquote>
<p><strong>Statical inference</strong><br>This overall process of going from the world to the data, and then from the data back to the world, is the field of statistical inference.</p>
<p><strong>Observation</strong><br>The characteristics of object is Observation</p>
<p><strong>Modeling</strong>  </p>
<ul>
<li>A model is our attempt to understand and represent the nature of reality through a particular lens, be it architectural, biological, or mathematical.</li>
<li>How do you have any clue whatsoever what functional form the data should take? Truth is, it’s part art and part science.</li>
</ul>
<p><strong>Probability Distribution</strong>  </p>
<h2 id="So-what-is-the-process-of-doing-data-science"><a href="#So-what-is-the-process-of-doing-data-science" class="headerlink" title="So what is the process of doing data science?"></a><strong>So what is the process of doing data science?</strong></h2><p>The <strong>population</strong> is the total objects we interested in which can be represented as N.<br>The <strong>sample</strong> is the subset of population.<br>A observation can be think as the quantized or classified characteristics we capture or extract from an object.<br>The observe data of sample object are usually the so call <strong>data</strong> (as far as I know).<br>But the data themselves do not say any thing, we need some a new idea, to simplify the data, make them more comprehensible and easy to use to explain the rules of our real world. So we need the estimator or statistical estimator.</p>
<p><a href="https://en.wikipedia.org/wiki/Estimator" target="_blank" rel="external"><strong>Statistical estimator</strong></a> is a function or rule for calculating an estimate of given quantity based on observed data. Firstly, it’s a function comes from observed data, the discovering of this function is modeling.<br>Secondly, it is used to calculating the estimate of given quantity.<br>The activities above form the process of statistical inference, start from the real world to data and then from the data back to the real world.</p>
<h2 id="Modeling"><a href="#Modeling" class="headerlink" title="Modeling"></a><strong>Modeling</strong></h2><p>Modeling is man made, aimed at eliminating the unimportant detail of the objects and abstracting information from data.<br><em>Can I say that the modeling is choosing estimator, combining and optimizing the estimators?</em><br>Before coding, we need to take a look at our data or draw a map of our data, try to understand which one is the cause, which one is affected.<br>In <strong>Statical Modeling</strong> people use a function to represent the relationship between data.<br>Greek letters represent the parameters latin letters represent data.<br>Modeling is part of art and port of science.<br>So there is no such a model that is the best.<br>We can just start from the simple one, take a look at the hist scatter plot, find out a simple model. Sometimes, for example, a simple model can explain 90% of data relationship while a complex one only make it 2% better to 92%.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chunkai-meng.github.io.git/2017/11/18/Mathematical-Formula-in-R-Markdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chunkai Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chunkai's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/18/Mathematical-Formula-in-R-Markdown/" itemprop="url">Mathematical Formula in R Markdown</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-18T21:30:41+13:00">
                2017-11-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Data-Science/" itemprop="url" rel="index">
                    <span itemprop="name">Data Science</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/18/Mathematical-Formula-in-R-Markdown/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/18/Mathematical-Formula-in-R-Markdown/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>This is a cheat sheet I reorganized, it’s aim all the Symbols or Greek letters could be appear in the R markdown, some of them can also be use in reglar markdown files. <a href="http://rpubs.com/Chunkai/Mathematical-Formula-in-R-Markdown" target="_blank" rel="external">[Click]</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Chunkai Meng</p>
              <p class="site-description motion-element" itemprop="description">Record and Share</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/chunkai-meng" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.linkedin.com/in/chunkai-meng-68336a16/" target="_blank" title="Linkedin">
                    
                      <i class="fa fa-fw fa-linkedin"></i></a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chunkai Meng</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://chunkai.disqus.com/count.js" async></script>
    

    

  













  





  

  

  

  

  

  

</body>
</html>
